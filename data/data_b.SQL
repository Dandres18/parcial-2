-- Crear la base de datos
CREATE DATABASE IF NOT EXISTS gestion_productos;
USE gestion_productos;

-- Crear la tabla de usuarios
CREATE TABLE USUARIOS (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    NOMBRE VARCHAR(100) NOT NULL,
    EMAIL VARCHAR(100) UNIQUE NOT NULL,
    CONTRASENA VARCHAR(255) NOT NULL,
    FECHA_CREACION TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Crear la tabla de productos
CREATE TABLE PRODUCTOS (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    NOMBRE VARCHAR(100) NOT NULL,
    DESCRIPCION TEXT,
    VALOR DECIMAL(10,2) NOT NULL,
    CANTIDAD INT NOT NULL,
    ID_USER INT,
    FECHA_CREACION TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (ID_USER) REFERENCES USUARIOS(ID) ON DELETE SET NULL
);

-- Insertar usuario de prueba
INSERT INTO USUARIOS (NOMBRE, EMAIL, CONTRASENA) VALUES 
('Admin', 'admin@example.com', 'admin123');

-- Insertar productos de prueba
INSERT INTO PRODUCTOS (NOMBRE, DESCRIPCION, VALOR, CANTIDAD, ID_USER) VALUES 
('Producto 1', 'Descripción del producto 1', 19.99, 10, 1),
('Producto 2', 'Descripción del producto 2', 29.99, 5, 1);
